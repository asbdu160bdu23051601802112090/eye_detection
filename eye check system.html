<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Eye Check System</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Segoe UI', Arial, sans-serif;
    min-height: 100vh;
    color: #333;
    overflow-x: hidden;
    position: relative;
    animation: fadeIn 1.5s ease-out;
    background: #f8f9fa;
}

/* Professional Clean Background */
.animated-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background: 
        linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%),
        radial-gradient(circle at 10% 20%, rgba(25, 118, 210, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 90% 80%, rgba(76, 175, 80, 0.03) 0%, transparent 50%);
    background-blend-mode: normal;
    overflow: hidden;
}

/* Subtle grid pattern */
.animated-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(rgba(25, 118, 210, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(25, 118, 210, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    animation: gridMove 60s linear infinite;
}

@keyframes gridMove {
    0% { background-position: 0 0; }
    100% { background-position: 40px 40px; }
}

/* Subtle floating elements */
.animated-bg::after {
    content: '';
    position: absolute;
    width: 300px;
    height: 300px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(25, 118, 210, 0.05) 0%, rgba(255,255,255,0) 70%);
    top: -100px;
    right: -50px;
    filter: blur(30px);
    animation: orbFloat 30s ease-in-out infinite alternate;
}

@keyframes orbFloat {
    0% {
        transform: translate(0, 0) scale(1);
        opacity: 0.1;
    }
    50% {
        transform: translate(-50px, 50px) scale(1.05);
        opacity: 0.15;
    }
    100% {
        transform: translate(50px, -25px) scale(0.95);
        opacity: 0.1;
    }
}

/* Floating eyes - very subtle */
.eye-float {
    position: fixed;
    font-size: 24px;
    opacity: 0.08;
    animation: float 30s linear infinite;
    z-index: -1;
    color: #1976d2;
}

@keyframes float {
    0% { 
        transform: translateY(100vh) translateX(0) rotate(0deg); 
        opacity: 0.05;
    }
    10% { opacity: 0.1; }
    90% { opacity: 0.1; }
    100% { 
        transform: translateY(-100px) translateX(calc(100vw - 100px)) rotate(360deg); 
        opacity: 0.05;
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* Language Toggle */
.language-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    gap: 10px;
}

.lang-btn {
    background: rgba(255, 255, 255, 0.9);
    border: 2px solid #1976d2;
    color: #1976d2;
    padding: 10px 20px;
    border-radius: 30px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.lang-btn.active {
    background: #1976d2;
    color: white;
}

/* Main Container */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    position: relative;
    z-index: 1;
}

/* Header */
.header {
    text-align: center;
    margin: 40px 0;
    padding: 40px 30px;
    background: white;
    border-radius: 20px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.title {
    font-size: 3.5rem;
    background: linear-gradient(45deg, #1976d2, #4CAF50, #ff9800);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 20px;
    text-shadow: 0 0 20px rgba(25, 118, 210, 0.1);
}

.subtitle {
    font-size: 1.2rem;
    color: #666;
    margin-bottom: 10px;
}

/* Test Grid */
.test-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin: 40px 0;
}

.test-card {
    background: white;
    border-radius: 20px;
    padding: 25px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.test-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
    border-color: #1976d2;
}

.test-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

.test-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(45deg, #1976d2, #4CAF50);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
}

.test-title {
    font-size: 1.4rem;
    color: #333;
}

/* Vision Chart */
.vision-chart {
    background: #f8f9fa;
    border-radius: 15px;
    padding: 20px;
    margin: 15px 0;
    text-align: center;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.chart-line {
    font-weight: 900;
    margin: 10px 0;
}

.chart-xl { font-size: 4rem; color: #1976d2; }
.chart-lg { font-size: 3rem; color: #4CAF50; }
.chart-md { font-size: 2rem; color: #ff9800; }
.chart-sm { font-size: 1.5rem; color: #333; }
.chart-xs { font-size: 1.2rem; color: #666; }

/* Color Disk */
.color-disk {
    width: 150px;
    height: 150px;
    margin: 20px auto;
    border-radius: 50%;
    background: conic-gradient(red, yellow, lime, aqua, blue, magenta, red);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    font-weight: 900;
    color: white;
    text-shadow: 0 0 5px black;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
}

/* Test Options */
.test-options {
    display: flex;
    gap: 15px;
    margin-top: 20px;
}

.option-btn {
    flex: 1;
    padding: 12px;
    border-radius: 12px;
    border: 2px solid;
    background: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: all 0.3s ease;
    font-weight: 600;
}

.option-btn.ok {
    border-color: #4CAF50;
    color: #4CAF50;
}

.option-btn.ok:hover, .option-btn.ok.selected {
    background: #4CAF50;
    color: white;
}

.option-btn.no {
    border-color: #f44336;
    color: #f44336;
}

.option-btn.no:hover, .option-btn.no.selected {
    background: #f44336;
    color: white;
}

/* District Selector */
.district-selector {
    background: white;
    border-radius: 20px;
    padding: 30px;
    margin: 40px 0;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.selector-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

.selector-header i {
    font-size: 2rem;
    color: #1976d2;
}

.selector-header h2 {
    font-size: 1.8rem;
    color: #333;
}

.district-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 15px;
}

.district-option {
    padding: 15px;
    background: #f8f9fa;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    color: #333;
}

.district-option:hover {
    background: #e3f2fd;
    border-color: #1976d2;
}

.district-option.selected {
    background: #1976d2;
    color: white;
    border-color: #1976d2;
    box-shadow: 0 4px 15px rgba(25, 118, 210, 0.2);
}

/* Action Buttons */
.action-buttons {
    display: flex;
    gap: 20px;
    margin: 40px 0;
    justify-content: center;
}

.action-btn {
    padding: 18px 35px;
    border-radius: 50px;
    border: none;
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 12px;
    transition: all 0.3s ease;
    min-width: 200px;
    justify-content: center;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.check-btn {
    background: linear-gradient(45deg, #1976d2, #2196F3);
    color: white;
}

.check-btn:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 25px rgba(25, 118, 210, 0.3);
}

.reset-btn {
    background: white;
    color: #f44336;
    border: 2px solid #f44336;
}

.reset-btn:hover {
    background: #f44336;
    color: white;
    transform: translateY(-5px);
    box-shadow: 0 12px 25px rgba(244, 67, 54, 0.2);
}

/* Results Panel */
.results-panel {
    background: white;
    border-radius: 20px;
    padding: 30px;
    margin: 40px 0;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(0, 0, 0, 0.05);
    display: none;
}

.result-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
}

.result-header i {
    font-size: 2.5rem;
    color: #1976d2;
}

.result-header h2 {
    font-size: 2rem;
    color: #333;
}

/* Food Recommendations */
.food-recommendations {
    background: white;
    border-radius: 20px;
    padding: 30px;
    margin: 40px 0;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(0, 0, 0, 0.05);
    display: none;
}

.food-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
}

.food-header i {
    font-size: 2.5rem;
    color: #4CAF50;
}

.food-header h2 {
    font-size: 2rem;
    color: #333;
}

.food-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.food-card {
    background: #f8f9fa;
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    border: 1px solid rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease;
}

.food-card:hover {
    transform: translateY(-5px);
}

.food-icon {
    font-size: 3rem;
    margin-bottom: 15px;
}

.food-card h3 {
    color: #333;
    margin-bottom: 10px;
}

.food-card p {
    color: #666;
    font-size: 0.9rem;
}

/* Power Glass Section */
.power-glass-section {
    background: white;
    border-radius: 20px;
    padding: 30px;
    margin: 40px 0;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(0, 0, 0, 0.05);
    display: none;
}

.glass-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
}

.glass-header i {
    font-size: 2.5rem;
    color: #ff9800;
}

.glass-header h2 {
    font-size: 2rem;
    color: #333;
}

.glass-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.glass-card {
    background: #f8f9fa;
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    border: 1px solid rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease;
}

.glass-card:hover {
    transform: translateY(-5px);
}

.glass-icon {
    font-size: 3rem;
    margin-bottom: 15px;
}

.glass-card h3 {
    color: #333;
    margin-bottom: 10px;
}

.power-range {
    display: inline-block;
    padding: 8px 15px;
    background: rgba(25, 118, 210, 0.1);
    color: #1976d2;
    border-radius: 20px;
    margin: 10px 0;
    font-weight: bold;
}

/* Voice Panel */
.voice-panel {
    background: white;
    border-radius: 20px;
    padding: 20px;
    margin: 30px 0;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.voice-controls {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}

.voice-btn {
    padding: 12px 25px;
    background: linear-gradient(45deg, #1976d2, #4CAF50);
    border: none;
    border-radius: 50px;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: all 0.3s ease;
    font-weight: 600;
}

.voice-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(25, 118, 210, 0.3);
}

/* Footer */
.footer {
    text-align: center;
    margin-top: 60px;
    padding: 30px;
    color: #666;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    background: white;
    border-radius: 20px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
}

/* Responsive */
@media (max-width: 768px) {
    .title {
        font-size: 2.5rem;
    }
    
    .test-grid {
        grid-template-columns: 1fr;
    }
    
    .action-buttons {
        flex-direction: column;
        align-items: center;
    }
    
    .action-btn {
        min-width: 100%;
    }
    
    .district-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .container {
        padding: 15px;
    }
}
</style>
</head>

<body>
<!-- Background Elements -->
<div class="animated-bg"></div>
<div class="eye-float" style="left:10%; animation-delay:0s;">ЁЯСБя╕П</div>
<div class="eye-float" style="left:30%; animation-delay:7s;">ЁЯСБя╕П</div>
<div class="eye-float" style="left:60%; animation-delay:14s;">ЁЯСБя╕П</div>
<div class="eye-float" style="left:85%; animation-delay:21s;">ЁЯСБя╕П</div>

<!-- Language Toggle -->
<div class="language-toggle">
    <button class="lang-btn active" onclick="setLanguage('en')">
        <i class="fas fa-globe"></i> English
    </button>
    <button class="lang-btn" onclick="setLanguage('ta')">
        <i class="fas fa-language"></i> родрооро┐ро┤рпН
    </button>
</div>

<div class="container">
    <!-- Header -->
    <div class="header">
        <h1 class="title">Smart Eye Check System</h1>
        <p class="subtitle">Professional Vision Screening Tool</p>
        <p class="subtitle">"Taking care of your vision since 2024"</p>
    </div>

    <!-- Voice Panel -->
    <div class="voice-panel">
        <div class="voice-controls">
            <button class="voice-btn" onclick="playInstructions()">
                <i class="fas fa-play-circle"></i>
                <span id="play-text">Play Instructions</span>
            </button>
            <button class="voice-btn" onclick="stopVoice()">
                <i class="fas fa-stop-circle"></i>
                <span id="stop-text">Stop Voice</span>
            </button>
        </div>
    </div>

    <!-- Test Grid -->
    <div class="test-grid">
        <!-- Distance Vision -->
        <div class="test-card">
            <div class="test-header">
                <div class="test-icon">
                    <i class="fas fa-hospital"></i>
                </div>
                <h3 class="test-title">Distance Vision</h3>
            </div>
            <div class="vision-chart">
                <div class="chart-line chart-xl">E</div>
                <div class="chart-line chart-lg">F P</div>
                <div class="chart-line chart-md">T O Z</div>
                <div class="chart-line chart-sm">L P E D</div>
                <div class="chart-line chart-xs">P E C F D</div>
            </div>
            <p style="text-align:center; margin:15px 0; color:#666;">
                Stand 6 feet away and read
            </p>
            <div class="test-options">
                <label class="option-btn ok" onclick="selectOption('t1', 'ok')">
                    <input type="radio" name="t1" value="ok">
                    <i class="fas fa-check"></i>
                    <span id="t1-ok-text">Clear</span>
                </label>
                <label class="option-btn no" onclick="selectOption('t1', 'no')">
                    <input type="radio" name="t1" value="no">
                    <i class="fas fa-times"></i>
                    <span id="t1-no-text">Blurred</span>
                </label>
            </div>
        </div>

        <!-- Near Vision -->
        <div class="test-card">
            <div class="test-header">
                <div class="test-icon">
                    <i class="fas fa-book"></i>
                </div>
                <h3 class="test-title">Near Vision</h3>
            </div>
            <div class="vision-chart">
                <div class="chart-line chart-md">READ</div>
                <div class="chart-line chart-sm">BOOK</div>
                <div class="chart-line chart-xs">CLEAR</div>
            </div>
            <p style="text-align:center; margin:15px 0; color:#666;">
                Hold at reading distance
            </p>
            <div class="test-options">
                <label class="option-btn ok" onclick="selectOption('nv', 'ok')">
                    <input type="radio" name="nv" value="ok">
                    <i class="fas fa-check"></i>
                    <span id="nv-ok-text">Clear</span>
                </label>
                <label class="option-btn no" onclick="selectOption('nv', 'no')">
                    <input type="radio" name="nv" value="no">
                    <i class="fas fa-times"></i>
                    <span id="nv-no-text">Blurred</span>
                </label>
            </div>
        </div>

        <!-- Color Vision -->
        <div class="test-card">
            <div class="test-header">
                <div class="test-icon">
                    <i class="fas fa-palette"></i>
                </div>
                <h3 class="test-title">Color Vision</h3>
            </div>
            <div class="color-disk">12</div>
            <p style="text-align:center; margin:15px 0; color:#666;">
                What number do you see?
            </p>
            <div class="test-options">
                <label class="option-btn ok" onclick="selectOption('c1', 'ok')">
                    <input type="radio" name="c1" value="ok">
                    <i class="fas fa-check"></i>
                    <span id="c1-ok-text">12</span>
                </label>
                <label class="option-btn no" onclick="selectOption('c1', 'no')">
                    <input type="radio" name="c1" value="no">
                    <i class="fas fa-times"></i>
                    <span id="c1-no-text">Different</span>
                </label>
            </div>
        </div>
    </div>

    <div class="test-grid">
        <!-- Astigmatism -->
        <div class="test-card">
            <div class="test-header">
                <div class="test-icon">
                    <i class="fas fa-sun"></i>
                </div>
                <h3 class="test-title">Astigmatism</h3>
            </div>
            <div style="text-align:center; font-size:3rem; letter-spacing:15px; margin:20px 0;">
                тФВ тХ▒ тФА тХ▓ тФВ
            </div>
            <p style="text-align:center; margin:15px 0; color:#666;">
                All lines same darkness?
            </p>
            <div class="test-options">
                <label class="option-btn ok" onclick="selectOption('a1', 'ok')">
                    <input type="radio" name="a1" value="ok">
                    <i class="fas fa-check"></i>
                    <span id="a1-ok-text">Yes</span>
                </label>
                <label class="option-btn no" onclick="selectOption('a1', 'no')">
                    <input type="radio" name="a1" value="no">
                    <i class="fas fa-times"></i>
                    <span id="a1-no-text">No</span>
                </label>
            </div>
        </div>

        <!-- Contrast -->
        <div class="test-card">
            <div class="test-header">
                <div class="test-icon">
                    <i class="fas fa-adjust"></i>
                </div>
                <h3 class="test-title">Contrast</h3>
            </div>
            <div style="display:flex; justify-content:center; gap:20px; margin:20px 0;">
                <div style="background:#333; padding:15px; border-radius:10px; font-size:2rem; color:white;">C</div>
                <div style="background:#666; padding:15px; border-radius:10px; font-size:2rem; color:white;">C</div>
                <div style="background:#999; padding:15px; border-radius:10px; font-size:2rem; color:white;">C</div>
            </div>
            <p style="text-align:center; margin:15px 0; color:#666;">
                Can you see all C's?
            </p>
            <div class="test-options">
                <label class="option-btn ok" onclick="selectOption('ct', 'ok')">
                    <input type="radio" name="ct" value="ok">
                    <i class="fas fa-check"></i>
                    <span id="ct-ok-text">Yes</span>
                </label>
                <label class="option-btn no" onclick="selectOption('ct', 'no')">
                    <input type="radio" name="ct" value="no">
                    <i class="fas fa-times"></i>
                    <span id="ct-no-text">No</span>
                </label>
            </div>
        </div>

        <!-- New Vision Test - Peripheral Vision -->
        <div class="test-card">
            <div class="test-header">
                <div class="test-icon">
                    <i class="fas fa-eye"></i>
                </div>
                <h3 class="test-title">Peripheral Vision</h3>
            </div>
            <div style="text-align:center; padding:20px;">
                <div style="display:flex; justify-content:center; align-items:center; height:150px;">
                    <div style="width:40px; height:40px; background:#1976d2; border-radius:50%; margin:0 50px; font-size:1.5rem; color:white; display:flex; align-items:center; justify-content:center;">тАв</div>
                    <div style="width:80px; height:80px; background:#4CAF50; border-radius:50%; font-size:2rem; color:white; display:flex; align-items:center; justify-content:center;">тАв</div>
                    <div style="width:40px; height:40px; background:#ff9800; border-radius:50%; margin:0 50px; font-size:1.5rem; color:white; display:flex; align-items:center; justify-content:center;">тАв</div>
                </div>
            </div>
            <p style="text-align:center; margin:15px 0; color:#666;">
                Focus center dot, can you see side dots?
            </p>
            <div class="test-options">
                <label class="option-btn ok" onclick="selectOption('pv', 'ok')">
                    <input type="radio" name="pv" value="ok">
                    <i class="fas fa-check"></i>
                    <span id="pv-ok-text">Yes</span>
                </label>
                <label class="option-btn no" onclick="selectOption('pv', 'no')">
                    <input type="radio" name="pv" value="no">
                    <i class="fas fa-times"></i>
                    <span id="pv-no-text">No</span>
                </label>
            </div>
        </div>
    </div>

    <!-- District Selector -->
    <div class="district-selector">
        <div class="selector-header">
            <i class="fas fa-map-marker-alt"></i>
            <h2>Select Your District</h2>
        </div>
        <div class="district-grid" id="district-grid">
            <!-- Districts populated by JS -->
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
        <button class="action-btn check-btn" onclick="checkResult()">
            <i class="fas fa-stethoscope"></i>
            <span id="check-text">Check Result</span>
        </button>
        <button class="action-btn reset-btn" onclick="resetTests()">
            <i class="fas fa-redo"></i>
            <span id="reset-text">Reset Tests</span>
        </button>
    </div>

    <!-- Results Panel -->
    <div class="results-panel" id="results-panel">
        <div class="result-header">
            <i class="fas fa-clipboard-list"></i>
            <h2 id="result-title">Screening Results</h2>
        </div>
        <div class="result-content" id="result-content">
            <!-- Results will appear here -->
        </div>
    </div>

    <!-- Food Recommendations -->
    <div class="food-recommendations" id="food-section">
        <div class="food-header">
            <i class="fas fa-apple-alt"></i>
            <h2 id="food-title">Food Recommendations</h2>
        </div>
        <p style="text-align:center; margin-bottom:20px; color:#666;" id="food-desc">
            Essential foods for eye health:
        </p>
        <div class="food-grid">
            <div class="food-card">
                <div class="food-icon">ЁЯеХ</div>
                <h3 id="food1-title">Carrots</h3>
                <p id="food1-desc">Rich in Vitamin A for night vision</p>
            </div>
            <div class="food-card">
                <div class="food-icon">ЁЯем</div>
                <h3 id="food2-title">Spinach</h3>
                <p id="food2-desc">Contains Lutein for retina health</p>
            </div>
            <div class="food-card">
                <div class="food-icon">ЁЯРЯ</div>
                <h3 id="food3-title">Fish</h3>
                <p id="food3-desc">Omega-3 reduces dry eyes</p>
            </div>
            <div class="food-card">
                <div class="food-icon">ЁЯеЬ</div>
                <h3 id="food4-title">Nuts</h3>
                <p id="food4-desc">Vitamin E protects eye cells</p>
            </div>
        </div>
    </div>

    <!-- Power Glass Recommendations -->
    <div class="power-glass-section" id="glass-section">
        <div class="glass-header">
            <i class="fas fa-glasses"></i>
            <h2 id="glass-title">Power Glass Suggestions</h2>
        </div>
        <p style="text-align:center; margin-bottom:20px; color:#666;" id="glass-desc">
            Based on your test results:
        </p>
        <div class="glass-grid">
            <div class="glass-card">
                <div class="glass-icon">ЁЯСУ</div>
                <h3 id="glass1-title">Reading</h3>
                <div class="power-range">+0.50 to +2.00</div>
                <p id="glass1-desc">For near vision tasks</p>
            </div>
            <div class="glass-card">
                <div class="glass-icon">ЁЯТ╗</div>
                <h3 id="glass2-title">Computer</h3>
                <div class="power-range">Anti-glare</div>
                <p id="glass2-desc">Blue light protection</p>
            </div>
            <div class="glass-card">
                <div class="glass-icon">ЁЯМЮ</div>
                <h3 id="glass3-title">Progressive</h3>
                <div class="power-range">Multi-focal</div>
                <p id="glass3-desc">All distance vision</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>Smart Eye Check System | Final Year Project</p>
        <p>For educational purposes | Consult professional for diagnosis</p>
    </div>
</div>

<script>
// ========== LANGUAGE SYSTEM ==========
let currentLanguage = 'en';

const translations = {
    en: {
        'play-text': 'Play Instructions',
        'stop-text': 'Stop Voice',
        't1-ok-text': 'Clear',
        't1-no-text': 'Blurred',
        'nv-ok-text': 'Clear',
        'nv-no-text': 'Blurred',
        'c1-ok-text': '12',
        'c1-no-text': 'Different',
        'a1-ok-text': 'Yes',
        'a1-no-text': 'No',
        'ct-ok-text': 'Yes',
        'ct-no-text': 'No',
        'pv-ok-text': 'Yes',
        'pv-no-text': 'No',
        'check-text': 'Check Result',
        'reset-text': 'Reset Tests',
        'result-title': 'Screening Results',
        'food-title': 'Food Recommendations',
        'food-desc': 'Essential foods for eye health:',
        'food1-title': 'Carrots',
        'food1-desc': 'Rich in Vitamin A for night vision',
        'food2-title': 'Spinach',
        'food2-desc': 'Contains Lutein for retina health',
        'food3-title': 'Fish',
        'food3-desc': 'Omega-3 reduces dry eyes',
        'food4-title': 'Nuts',
        'food4-desc': 'Vitamin E protects eye cells',
        'glass-title': 'Power Glass Suggestions',
        'glass-desc': 'Based on your test results:',
        'glass1-title': 'Reading',
        'glass1-desc': 'For near vision tasks',
        'glass2-title': 'Computer',
        'glass2-desc': 'Blue light protection',
        'glass3-title': 'Progressive',
        'glass3-desc': 'All distance vision'
    },
    ta: {
        'play-text': 'ро╡ро┤ро┐роорпБро▒рпИроХро│рпИ роЗропроХрпНроХро╡рпБроорпН',
        'stop-text': 'роХрпБро░ро▓рпИ роиро┐ро▒рпБродрпНродро╡рпБроорпН',
        't1-ok-text': 'родрпЖро│ро┐ро╡рпБ',
        't1-no-text': 'родрпЖро│ро┐ро╡ро┐ройрпНроорпИ',
        'nv-ok-text': 'родрпЖро│ро┐ро╡рпБ',
        'nv-no-text': 'родрпЖро│ро┐ро╡ро┐ройрпНроорпИ',
        'c1-ok-text': '12',
        'c1-no-text': 'ро╡рпЗро▒рпБ',
        'a1-ok-text': 'роЖроорпН',
        'a1-no-text': 'роЗро▓рпНро▓рпИ',
        'ct-ok-text': 'роЖроорпН',
        'ct-no-text': 'роЗро▓рпНро▓рпИ',
        'pv-ok-text': 'роЖроорпН',
        'pv-no-text': 'роЗро▓рпНро▓рпИ',
        'check-text': 'роорпБроЯро┐ро╡рпИ роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН',
        'reset-text': 'роЪрпЛродройрпИроХро│рпИ роорпАроЯрпНроЯроорпИ',
        'result-title': 'рокро░ро┐роЪрпЛродройрпИ роорпБроЯро┐ро╡рпБроХро│рпН',
        'food-title': 'роЙрогро╡рпБ рокро░ро┐роирпНродрпБро░рпИроХро│рпН',
        'food-desc': 'роХрогрпН роЖро░рпЛроХрпНроХро┐ропродрпНродро┐ро▒рпНроХро╛рой роорпБроХрпНроХро┐роп роЙрогро╡рпБроХро│рпН:',
        'food1-title': 'роХрпЗро░роЯрпН',
        'food1-desc': 'роЗро░ро╡рпБ рокро╛ро░рпНро╡рпИроХрпНроХрпБ ро╡рпИроЯрпНроЯрооро┐ройрпН роП',
        'food2-title': 'роХрпАро░рпИ',
        'food2-desc': 'ро░рпЖроЯрпНроЯро┐ройро╛ роЖро░рпЛроХрпНроХро┐ропродрпНродро┐ро▒рпНроХрпБ ро▓ро┐ропрпВроЯро┐ройрпН',
        'food3-title': 'роорпАройрпН',
        'food3-desc': 'роТроорпЗроХро╛-3 роЙро▓ро░рпН роХрогрпНроХро│рпИ роХрпБро▒рпИроХрпНроХро┐ро▒родрпБ',
        'food4-title': 'роХрпКроЯрпНроЯрпИроХро│рпН',
        'food4-desc': 'ро╡рпИроЯрпНроЯрооро┐ройрпН роИ роХрогрпН роЪрпЖро▓рпНроХро│рпИрокрпН рокро╛родрпБроХро╛роХрпНроХро┐ро▒родрпБ',
        'glass-title': 'рокро╡ро░рпН роХрогрпНрогро╛роЯро┐ рокро░ро┐роирпНродрпБро░рпИроХро│рпН',
        'glass-desc': 'роЙроЩрпНроХро│рпН роЪрпЛродройрпИ роорпБроЯро┐ро╡рпБроХро│ро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН:',
        'glass1-title': 'рокроЯро┐родрпНродро▓рпН',
        'glass1-desc': 'роЕро░рпБроХро┐ро▓рпБро│рпНро│ рокро╛ро░рпНро╡рпИ рокрогро┐роХро│рпБроХрпНроХрпБ',
        'glass2-title': 'роХрогро┐ройро┐',
        'glass2-desc': 'роирпАро▓ роТро│ро┐ рокро╛родрпБроХро╛рокрпНрокрпБ',
        'glass3-title': 'рокрпБро░рпЛроХро┐ро░роЪро┐ро╡рпН',
        'glass3-desc': 'роЕройрпИродрпНродрпБ родрпВро░ рокро╛ро░рпНро╡рпИ'
    }
};

function setLanguage(lang) {
    currentLanguage = lang;
    
    // Update button active state
    document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
    
    // Update all text
    Object.keys(translations[lang]).forEach(key => {
        const element = document.getElementById(key);
        if (element) {
            element.textContent = translations[lang][key];
        }
    });
}

// ========== VOICE SYSTEM ==========
function speak(text, lang) {
    if ('speechSynthesis' in window) {
        speechSynthesis.cancel();
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = lang === 'ta' ? 'ta-IN' : 'en-IN';
        utterance.rate = 0.9;
        speechSynthesis.speak(utterance);
    }
}

function playInstructions() {
    const text = currentLanguage === 'en' 
        ? 'Welcome to Smart Eye Check System. Please complete all vision tests for accurate screening.'
        : 'ро╕рпНрооро╛ро░рпНроЯрпН роР роЯрпЖро╕рпНроЯрпН роЪро┐ро╕рпНроЯродрпНродро┐ро▒рпНроХрпБ ро╡ро░ро╡рпЗро▒рпНроХро┐ро▒рпЛроорпН. родрпБро▓рпНро▓ро┐ропрооро╛рой рокро░ро┐роЪрпЛродройрпИроХрпНроХрпБ роЕройрпИродрпНродрпБ рокро╛ро░рпНро╡рпИ роЪрпЛродройрпИроХро│рпИропрпБроорпН роорпБроЯро┐роХрпНроХро╡рпБроорпН.';
    speak(text, currentLanguage);
}

function stopVoice() {
    if ('speechSynthesis' in window) {
        speechSynthesis.cancel();
    }
}

// ========== TEST SELECTION ==========
function selectOption(testName, value) {
    // Remove selected class from all options
    const options = document.querySelectorAll(`input[name="${testName}"]`);
    options.forEach(opt => {
        opt.parentElement.classList.remove('selected');
    });
    
    // Add selected class to clicked option
    event.target.closest('.option-btn').classList.add('selected');
    
    // Set the radio button
    document.querySelector(`input[name="${testName}"][value="${value}"]`).checked = true;
}

// ========== DISTRICT SELECTION ==========
const districts = [
    { id: 'chennai', name: 'Chennai', nameTa: 'роЪрпЖройрпНройрпИ' },
    { id: 'madurai', name: 'Madurai', nameTa: 'роородрпБро░рпИ' },
    { id: 'coimbatore', name: 'Coimbatore', nameTa: 'роХрпЛропроорпНрокрпБродрпНродрпВро░рпН' },
    { id: 'trichy', name: 'Trichy', nameTa: 'родро┐ро░рпБроЪрпНроЪро┐' },
    { id: 'salem', name: 'Salem', nameTa: 'роЪрпЗро▓роорпН' },
    { id: 'thanjavur', name: 'Thanjavur', nameTa: 'родроЮрпНроЪро╛ро╡рпВро░рпН' }
];

function initializeDistricts() {
    const grid = document.getElementById('district-grid');
    grid.innerHTML = '';
    
    districts.forEach(district => {
        const option = document.createElement('div');
        option.className = 'district-option';
        option.dataset.id = district.id;
        option.innerHTML = `
            <h3>${currentLanguage === 'en' ? district.name : district.nameTa}</h3>
        `;
        
        option.onclick = function() {
            // Remove selected class from all
            document.querySelectorAll('.district-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selected class to clicked
            this.classList.add('selected');
        };
        
        grid.appendChild(option);
    });
}

// ========== RESULT CHECKING ==========
function checkResult() {
    const tests = ["t1", "nv", "c1", "a1", "ct", "pv"];
    let hasIssue = false;
    let incompleteTests = [];

    // Check all tests
    for (let t of tests) {
        let v = document.querySelector(`input[name="${t}"]:checked`);
        if (!v) {
            incompleteTests.push(t);
            continue;
        }
        if (v.value === "no") hasIssue = true;
    }

    // Check district selection
    const selectedDistrict = document.querySelector('.district-option.selected');
    if (!selectedDistrict) {
        alert(currentLanguage === 'en' ? 'Please select your district' : 'роЙроЩрпНроХро│рпН рооро╛ро╡роЯрпНроЯродрпНродрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН');
        return;
    }

    // Validate all tests completed
    if (incompleteTests.length > 0) {
        alert(currentLanguage === 'en' 
            ? `Please complete all tests. Missing: ${incompleteTests.length} test(s)`
            : `роЕройрпИродрпНродрпБ роЪрпЛродройрпИроХро│рпИропрпБроорпН роорпБроЯро┐роХрпНроХро╡рпБроорпН. роХро╛рогро╛рооро▓рпН: ${incompleteTests.length} роЪрпЛродройрпИ(роХро│рпН)`);
        return;
    }

    // Show results panel
    document.getElementById('results-panel').style.display = 'block';
    
    // Generate results
    const districtId = selectedDistrict.dataset.id;
    const districtName = currentLanguage === 'en' 
        ? districts.find(d => d.id === districtId).name
        : districts.find(d => d.id === districtId).nameTa;
    
    if (!hasIssue) {
        // Good results - ONLY SHOW GOOD MESSAGE
        document.getElementById('result-content').innerHTML = `
            <div style="text-align:center; padding:40px;">
                <div style="font-size:5rem; color:#4CAF50; margin:20px 0;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2 style="color:#4CAF50; margin-bottom:20px; font-size:2.2rem;">
                    ${currentLanguage === 'en' ? 'Excellent Vision Health!' : 'роЪро┐ро▒роирпНрод рокро╛ро░рпНро╡рпИ роЖро░рпЛроХрпНроХро┐ропроорпН!'}
                </h2>
                <div style="background:#f0f9f0; padding:25px; border-radius:15px; margin:20px 0; border-left:5px solid #4CAF50;">
                    <h3 style="color:#2e7d32; margin-bottom:15px;">
                        ${currentLanguage === 'en' ? 'Congratulations!' : 'ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН!'}
                    </h3>
                    <p style="margin-bottom:15px; color:#555; line-height:1.6;">
                        ${currentLanguage === 'en' 
                            ? 'Your vision screening results show excellent eye health. All tests indicate normal vision function with no detectable issues.'
                            : 'роЙроЩрпНроХро│рпН рокро╛ро░рпНро╡рпИ рокро░ро┐роЪрпЛродройрпИ роорпБроЯро┐ро╡рпБроХро│рпН роЪро┐ро▒роирпНрод роХрогрпН роЖро░рпЛроХрпНроХро┐ропродрпНродрпИроХрпН роХро╛роЯрпНроЯрпБроХро┐ройрпНро▒рой. роОро▓рпНро▓ро╛ роЪрпЛродройрпИроХро│рпБроорпН роЪро╛родро╛ро░рог рокро╛ро░рпНро╡рпИ роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИроХрпН роХро╛роЯрпНроЯрпБроХро┐ройрпНро▒рой.'}
                    </p>
                    <p style="color:#555; line-height:1.6;">
                        ${currentLanguage === 'en' 
                            ? 'Your vision appears clear and healthy. Continue with regular eye checkups every 1-2 years as preventive care.'
                            : 'роЙроЩрпНроХро│рпН рокро╛ро░рпНро╡рпИ родрпЖро│ро┐ро╡ро╛роХро╡рпБроорпН роЖро░рпЛроХрпНроХро┐ропрооро╛роХро╡рпБроорпН роЙро│рпНро│родрпБ. родроЯрпБрокрпНрокрпБ рокро░ро╛рооро░ро┐рокрпНрокро╛роХ роТро╡рпНро╡рпКро░рпБ 1-2 роЖрогрпНроЯрпБроХро│рпБроХрпНроХрпБроорпН роТро░рпБ роорпБро▒рпИ роХрогрпН рокро░ро┐роЪрпЛродройрпИ роЪрпЖропрпНродрпБроХрпКро│рпНро│рпБроЩрпНроХро│рпН.'}
                    </p>
                </div>
                <div style="margin-top:30px; padding:20px; background:#e8f5e9; border-radius:15px;">
                    <h4 style="color:#2e7d32; margin-bottom:15px;">
                        ${currentLanguage === 'en' ? 'Maintain Your Eye Health' : 'роЙроЩрпНроХро│рпН роХрогрпН роЖро░рпЛроХрпНроХро┐ропродрпНродрпИ рокро░ро╛рооро░ро┐роХрпНроХро╡рпБроорпН'}
                    </h4>
                    <p style="color:#555;">
                        ${currentLanguage === 'en' 
                            ? 'тАв Get regular eye checkups every 1-2 years<br>тАв Maintain a balanced diet rich in vitamins<br>тАв Follow the 20-20-20 rule for digital eye strain<br>тАв Wear UV-protected sunglasses outdoors<br>тАв Get adequate sleep and stay hydrated'
                            : 'тАв роТро╡рпНро╡рпКро░рпБ 1-2 роЖрогрпНроЯрпБроХро│рпБроХрпНроХрпБроорпН роТро░рпБ роорпБро▒рпИ роХрогрпН рокро░ро┐роЪрпЛродройрпИ роЪрпЖропрпНропрпБроЩрпНроХро│рпН<br>тАв ро╡рпИроЯрпНроЯрооро┐ройрпНроХро│рпН роиро┐ро▒рпИроирпНрод роЪроороЪрпНроЪрпАро░рпН роЙрогро╡рпИ роЙроЯрпНроХрпКро│рпНро│рпБроЩрпНроХро│рпН<br>тАв роЯро┐роЬро┐роЯрпНроЯро▓рпН роХрогрпН роЪро┐ро░роородрпНродро┐ро▒рпНроХрпБ 20-20-20 ро╡ро┐родро┐ропрпИрокрпН рокро┐ройрпНрокро▒рпНро▒рпБроЩрпНроХро│рпН<br>тАв ро╡рпЖро│ро┐ропрпЗ UV рокро╛родрпБроХро╛роХрпНроХрокрпНрокроЯрпНроЯ роХрогрпНрогро╛роЯро┐роХро│рпИ роЕрогро┐ропрпБроЩрпНроХро│рпН<br>тАв рокрпЛродрпБрооро╛рой родрпВроХрпНроХроорпН рооро▒рпНро▒рпБроорпН роирпАро░рпН роЕро░рпБроирпНродрпБроЩрпНроХро│рпН'}
                    </p>
                </div>
            </div>
        `;
        
        // Hide food recommendations and power glass section for good vision
        document.getElementById('food-section').style.display = 'none';
        document.getElementById('glass-section').style.display = 'none';
        
        // Voice announcement
        const voiceMsg = currentLanguage === 'en'
            ? `Excellent vision health detected in ${districtName} district. Your vision screening shows perfect eye health with no issues detected.`
            : `${districtName} рооро╛ро╡роЯрпНроЯродрпНродро┐ро▓рпН роЪро┐ро▒роирпНрод рокро╛ро░рпНро╡рпИ роЖро░рпЛроХрпНроХро┐ропроорпН роХрогрпНроЯро▒ро┐ропрокрпНрокроЯрпНроЯродрпБ. роЙроЩрпНроХро│рпН рокро╛ро░рпНро╡рпИ рокро░ро┐роЪрпЛродройрпИ роОроирпНрод рокро┐ро░роЪрпНроЪройрпИропрпБроорпН роЗро▓рпНро▓ро╛рооро▓рпН роЪро░ро┐ропро╛рой роХрогрпН роЖро░рпЛроХрпНроХро┐ропродрпНродрпИроХрпН роХро╛роЯрпНроЯрпБроХро┐ро▒родрпБ.`;
        speak(voiceMsg, currentLanguage);
    } else {
        // Issues detected - SHOW ALL SECTIONS
        const hospitals = {
            chennai: [
                ["Dr. R. Agarwal тАУ Sankara Eye Hospital", "044-1234-5678", "1, Poonamallee High Rd, Guindy, Chennai"],
                ["Dr. S. Mehta тАУ Vijaya Eye Hospital", "044-2345-6789", "181, NSK Salai, Vadapalani, Chennai"],
                ["Dr. K. Raman тАУ Apollo Eye Hospital", "044-3456-7890", "21, Greams Lane, Off Greams Road, Chennai"]
            ],
            madurai: [
                ["Dr. G. Venkatesh тАУ Aravind Eye Hospital", "0452-2345-678", "1, Anna Nagar, Madurai Main, Madurai"],
                ["Dr. R. Krishnan тАУ Meenakshi Eye Hospital", "0452-3456-789", "45, West Tower Street, Madurai"],
                ["Dr. S. Pandian тАУ Sri Eye Hospital", "0452-4567-890", "78, South Masi Street, Madurai"]
            ],
            coimbatore: [
                ["Dr. S. Kumar тАУ Aravind Eye Hospital", "0422-3456-789", "Avinashi Road, Peelamedu, Coimbatore"],
                ["Dr. M. Sharma тАУ Ganga Eye Hospital", "0422-4567-890", "DB Road, R.S. Puram, Coimbatore"],
                ["Dr. P. Rajesh тАУ Sri Ramakrishna Eye Hospital", "0422-5678-901", "Sundarapuram, Coimbatore Main Road"]
            ],
            trichy: [
                ["Dr. V. Rajesh тАУ Aravind Eye Hospital", "0431-4567-890", "Thillai Nagar, Trichy"],
                ["Dr. K. Srinivasan тАУ Joseph Eye Hospital", "0431-5678-901", "Williams Road, Cantonment, Trichy"],
                ["Dr. M. Balaji тАУ Sri Eye Care", "0431-6789-012", "78, Big Bazaar Street, Trichy"]
            ],
            salem: [
                ["Dr. A. Balaji тАУ Aravind Eye Hospital", "0427-5678-901", "Fairlands, Salem Main Road"],
                ["Dr. S. Ramesh тАУ Vinayaka Eye Hospital", "0427-6789-012", "Fort Main Road, Salem"],
                ["Dr. P. Kumar тАУ Sri Sai Eye Clinic", "0427-7890-123", "Hasthampatti, Salem"]
            ],
            thanjavur: [
                ["Dr. K. Rajendran тАУ Aravind Eye Hospital", "04362-67890", "Kumbakonam Road, Thanjavur"],
                ["Dr. R. Subramanian тАУ Raja Eye Hospital", "04362-78901", "Gandhi Road, Thanjavur"],
                ["Dr. S. Gopal тАУ Muthu Eye Care", "04362-89012", "South Rampart, Thanjavur"]
            ]
        };
        
        const hospitalList = hospitals[districtId].map(h => `
            <div style="background:#f8f9fa; padding:20px; border-radius:10px; margin:15px 0; border-left:4px solid #1976d2;">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                    <i class="fas fa-user-md" style="color:#1976d2; font-size:1.2rem;"></i>
                    <h4 style="color:#1976d2; margin:0; flex:1;">${h[0]}</h4>
                </div>
                <div style="display:flex; align-items:center; gap:10px; margin:8px 0;">
                    <i class="fas fa-phone" style="color:#4CAF50;"></i>
                    <span style="color:#555;">${h[1]}</span>
                </div>
                <div style="display:flex; align-items:flex-start; gap:10px; margin:8px 0;">
                    <i class="fas fa-map-marker-alt" style="color:#ff9800; margin-top:3px;"></i>
                    <span style="color:#666; font-size:0.9rem; line-height:1.4;">${h[2]}</span>
                </div>
                <div style="margin-top:10px;">
                    <button onclick="getDirections('${h[2]}')" style="background:#1976d2; color:white; border:none; padding:8px 15px; border-radius:5px; cursor:pointer; font-size:0.9rem; display:flex; align-items:center; gap:5px;">
                        <i class="fas fa-directions"></i>
                        ${currentLanguage === 'en' ? 'Get Directions' : 'ро╡ро┤ро┐роХро╛роЯрпНроЯро▓рпИрокрпН рокрпЖро▒ро╡рпБроорпН'}
                    </button>
                </div>
            </div>
        `).join('');
        
        document.getElementById('result-content').innerHTML = `
            <div style="text-align:center; padding:20px;">
                <div style="font-size:4rem; color:#ff9800; margin:20px 0;">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h3 style="color:#ff9800; margin-bottom:15px;">
                    ${currentLanguage === 'en' ? 'Consultation Recommended' : 'роЖро▓рпЛроЪройрпИ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ'}
                </h3>
                <p style="margin-bottom:20px; color:#666;">
                    ${currentLanguage === 'en'
                        ? 'Minor vision issues detected. Please consult an eye specialist for detailed examination.'
                        : 'роЪро┐ро▒ро┐роп рокро╛ро░рпНро╡рпИ роЪро┐роХрпНроХро▓рпНроХро│рпН роХрогрпНроЯро▒ро┐ропрокрпНрокроЯрпНроЯрой. ро╡ро┐ро░ро┐ро╡ро╛рой рокро░ро┐роЪрпЛродройрпИроХрпНроХрпБ роХрогрпН роиро┐рокрпБрогро░рпИ роЕрогрпБроХро╡рпБроорпН.'}
                </p>
                <div style="margin-top:30px;">
                    <h4 style="color:#333; margin-bottom:20px; display:flex; align-items:center; gap:10px; justify-content:center;">
                        <i class="fas fa-hospital" style="color:#1976d2;"></i>
                        ${currentLanguage === 'en' ? 'Recommended Specialists in' : 'рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпНроЯ роиро┐рокрпБрогро░рпНроХро│рпН'} ${districtName}:
                    </h4>
                    <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(350px, 1fr)); gap:15px;">
                        ${hospitalList}
                    </div>
                </div>
            </div>
        `;
        
        // Show food recommendations and power glass section for issues detected
        document.getElementById('food-section').style.display = 'block';
        document.getElementById('glass-section').style.display = 'block';
        
        // Voice announcement
        const voiceMsg = currentLanguage === 'en'
            ? `Minor vision issues detected in ${districtName} district. Please consult an eye specialist for detailed examination. Three recommended specialists with addresses and contact numbers are provided. Food recommendations and glasses suggestions are also available.`
            : `${districtName} рооро╛ро╡роЯрпНроЯродрпНродро┐ро▓рпН роЪро┐ро▒ро┐роп рокро╛ро░рпНро╡рпИ роЪро┐роХрпНроХро▓рпНроХро│рпН роХрогрпНроЯро▒ро┐ропрокрпНрокроЯрпНроЯрой. ро╡ро┐ро░ро┐ро╡ро╛рой рокро░ро┐роЪрпЛродройрпИроХрпНроХрпБ роХрогрпН роиро┐рокрпБрогро░рпИ роЕрогрпБроХро╡рпБроорпН. роорпВройрпНро▒рпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпНроЯ роиро┐рокрпБрогро░рпНроХро│рпН роорпБроХро╡ро░ро┐роХро│рпН рооро▒рпНро▒рпБроорпН родрпКроЯро░рпНрокрпБ роОрогрпНроХро│рпБроЯройрпН ро╡ро┤роЩрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│рой. роЙрогро╡рпБ рокро░ро┐роирпНродрпБро░рпИроХро│рпН рооро▒рпНро▒рпБроорпН роХрогрпНрогро╛роЯро┐ рокро░ро┐роирпНродрпБро░рпИроХро│рпБроорпН роХро┐роЯрпИроХрпНроХро┐ройрпНро▒рой.`;
        speak(voiceMsg, currentLanguage);
    }
    
    // Scroll to results
    document.getElementById('results-panel').scrollIntoView({ behavior: 'smooth' });
}

// ========== GET DIRECTIONS FUNCTION ==========
function getDirections(address) {
    // Encode the address for Google Maps URL
    const encodedAddress = encodeURIComponent(address);
    const googleMapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodedAddress}`;
    
    // Open Google Maps in a new tab
    window.open(googleMapsUrl, '_blank');
    
    // Voice confirmation
    const voiceMsg = currentLanguage === 'en'
        ? `Opening Google Maps with directions to the hospital location.`
        : `рооро░рпБродрпНродрпБро╡рооройрпИ роЗроЯродрпНродро┐ро▒рпНроХро╛рой ро╡ро┤ро┐роХро╛роЯрпНроЯро▓рпНроХро│рпБроЯройрпН роХрпВроХро┐ро│рпН роорпЗрокрпНро╕рпН родро┐ро▒роХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ.`;
    speak(voiceMsg, currentLanguage);
}

function resetTests() {
    // Reset all test selections
    document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.checked = false;
        radio.parentElement.classList.remove('selected');
    });
    
    // Reset district selection
    document.querySelectorAll('.district-option').forEach(opt => {
        opt.classList.remove('selected');
    });
    
    // Hide all results sections
    document.getElementById('results-panel').style.display = 'none';
    document.getElementById('food-section').style.display = 'none';
    document.getElementById('glass-section').style.display = 'none';
    
    // Scroll to top
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

// ========== INITIALIZATION ==========
window.onload = function() {
    initializeDistricts();
    setLanguage('en');
    
    // Welcome message
    setTimeout(() => {
        const welcomeMsg = currentLanguage === 'en'
            ? 'Welcome to Smart Eye Check System. Let us begin your vision screening.'
            : 'ро╕рпНрооро╛ро░рпНроЯрпН роР роЯрпЖро╕рпНроЯрпН роЪро┐ро╕рпНроЯродрпНродро┐ро▒рпНроХрпБ ро╡ро░ро╡рпЗро▒рпНроХро┐ро▒рпЛроорпН. роЙроЩрпНроХро│рпН рокро╛ро░рпНро╡рпИ рокро░ро┐роЪрпЛродройрпИропрпИ роЖро░роорпНрокро┐роХрпНроХро▓ро╛роорпН.';
        speak(welcomeMsg, currentLanguage);
    }, 1000);
};
</script>
</body>
</html>